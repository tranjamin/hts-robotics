FROM ros:noetic

RUN apt-get update && apt-get install -y \
    vim \
    ros-noetic-moveit \
    ros-noetic-moveit-ros-planning-interface \
    ros-noetic-ros-control \
    ros-noetic-ros-controllers \
    ros-noetic-joint-state-publisher \
    ros-noetic-robot-state-publisher

RUN mkdir -p /ws/src
WORKDIR /ws

COPY ./fr3_sim /ws/src/fr3_sim
RUN /bin/bash -c "source /opt/ros/noetic/setup.bash && catkin_make"


ENTRYPOINT ["/ros_entrypoint.sh"]
CMD ["/bin/bash"]